const showMessage=function(n,t){$(".content .alert").remove();switch(n){case"success":$(".content").prepend('<div class="alert bg-green">'+t+"<\/div>");setTimeout(function(){$(".content .alert").slideUp()},2e3);break;case"error":$(".content").prepend(['<div class="alert bg-red alert-dismissible">',t,'<button type="button" class="close" data-dismiss="alert">','<span aria-hidden="true">&times;<\/span>',"<\/button>","<\/div>"].join(""));break;default:$(".content").prepend('<div class="alert bg-default">'+t+"<\/div>");setTimeout(function(){$(".content .alert").slideUp()},2e3)}$(".content .alert").hide().fadeIn()},clearFormErrors=function(n){$(n).parent().find(".form-error").remove();$(n).removeClass("border-red")},showFormError=function(n,t,i=true){clearFormErrors(n);i&&n.addClass("border-red");n.after('<div><span class="text-red form-error">'+t+"<\/span><\/div>")},URLParams=function(n){var t={},f;const u=",";f="";const a=function(n){var t={};const i=n.indexOf("?");return i>=0?(t.pathname=n.split("?")[0],t.parameters=n.split("?")[1].split(/&+/)):(t.pathname=n,t.parameters=[]),t},s=function(n){const i=a(n);f=i.pathname;for(let n in i.parameters){const r=i.parameters[n],u=r.indexOf("=");u>-1&&(t[r.slice(0,u)]=decodeURIComponent(r.slice(u+1)))}},e=function(n,i){t[n]=i},v=function(){return t},o=function(n){return t[n]!==undefined},i=function(n){var i=[];return o(n)&&(i=decodeURIComponent(t[n]).split(u)),i},r=function(n,t){return o(n)&&i(n).indexOf(t)>-1},h=function(n,t){if(!r(n,t)){const r=i(n);return r.push(t),e(n,r.join(u)),!0}return!1},y=function(n){const t=t(n);return t.length>0?t[0]:null},p=function(){var n=[];for(let t in t)n.push(t);return n},c=function(n){delete t[n]},l=function(n,t){if(r(n,t)){var f=i(n);const r=f.indexOf(t);f.splice(r,1);e(n,f.join(u));f.length===0&&c(n)}},w=function(n,t){return r(n,t)?(l(n,t),!1):(h(n,t),!0)},b=function(){var n=[];for(let i in t)n.push(i+"="+t[i]);return n.join("&")},k=function(){var n=[];for(let i in t)n.push(i+"="+encodeURIComponent(t[i]));return n.join("&")},d=function(){const n=k();var t=f;n.length>0&&(t+="?"+n);history.pushState({},null,t)};return s(n),{init:s,set:e,get:v,has:o,values:i,hasValue:r,append:h,first:y,keys:p,removeKey:c,remove:l,toggle:w,toString:b,replaceBrowserUrl:d}},mapData=function(n,t,i,r,u,f,e){var s="&middot;",h="&plus;",c="&minus;";const l=function(n){$(".mapcontainer").mapael({map:{name:"office_map",zoom:{enabled:!0,maxLevel:10,animDuration:200,buttons:{reset:{cssClass:"zoom-btn zoom-btn-reset",content:s,title:"Reset zoom"},"in":{cssClass:"zoom-btn zoom-btn-in",content:h,title:"Zoom in"},out:{cssClass:"zoom-btn zoom-btn-out",content:c,title:"Zoom out"}}},defaultArea:{attrs:{fill:"none",stroke:"none","stroke-width":1},attrsHover:{fill:"rgb(91, 164, 255)",stroke:"none",animDuration:0},text:{attrs:{fill:"#000000"},attrsHover:{fill:"#000000"}}}},areas:n})},a=function(n,t,i){(function(n){typeof define=="function"&&define.amd?define(["jquery","mapael"],n):n(jQuery,jQuery.mapael)})(function(r,u){"use strict";var f=t,e=i,o=r(".content").height(),s=r(".content").width();return t>=i?e=t*s/o:f=i*o/s,r.extend(!0,u,{maps:{office_map:{width:e,height:f,getCoords:function(){return{x:x,y:y}},elems:n}}}),u})},o=function(t,i,r,u,f,e){$.ajax({method:"GET",dataType:"json",url:"api/MapAreaApi",data:{floorId:n,search:t,types:i,filters:r,units:u}}).done(function(n){var t={};$.each(n,function(n,i){const r={content:i.text,attrs:{"font-size":14}},u={fill:i.fill,stroke:i.stroke,transform:"r"+i.rotationAngle},f={stroke:i.stroke};t[i.id]={attrs:u,attrsHover:f,text:r,cssClass:i.cssClass}});l(t,f,e)})},v=function(n,t,i,r,u,f,e){$.ajax({method:"GET",dataType:"json",url:"api/PathApi",data:{floorId:n}}).done(function(n){var s={};$.each(n,function(n,t){s[t.id]=t.draw});a(s,f,e);o(t,i,r,u,f,e)})};return v(n,t,i,r,u,f,e),{createMap:o}},menuData=function(n,t,i,r,u,f){var s=",",e="",o=[],c=[],h=[];const l=function(){t.createMap(e,o.join(s),c.join(s),h.join(s))},a=function(i){e=i;e?n.set("search",e):n.removeKey("search");n.replaceBrowserUrl();t.createMap(e,o.join(","),c.join(","))},v=function(n,t){$("#object-type-dropdown span[data-id="+n+"]").attr("hidden",!t);$("#object-type-dropdown a.type-link[data-id="+n+"] em").attr("hidden",!t)},k=function(){for(var t=0;t<o.length;t++){const i=n.hasValue("type",o[t]);v(o[t],i)}},y=function(n,t){$("#unit-dropdown span[data-id="+n+"]").attr("hidden",!t);$("#unit-dropdown a.unit-link[data-id="+n+"] em").attr("hidden",!t)},d=function(){for(var t=0;t<h.length;t++){const i=n.hasValue("unit",h[t]);y(h[t],i)}},p=function(t){const i=n.toggle("type",t);o=n.values("type");v(t,i);n.replaceBrowserUrl();l()},w=function(t){n.toggle("filters",t);c=n.values("filters");n.replaceBrowserUrl();l()},g=function(t){const i=n.toggle("unit",t);h=n.values("unit");y(t,i);n.replaceBrowserUrl();l()},nt=function(){$("form[role=search]").submit(function(){const n=$("input[type=search]").val();return a(n),!1});$("#object-type-dropdown .type-link").click(function(){const n=$(this).attr("data-id");return p(n),!1});$("#free-workplaces").click(function(){return w("free workplaces"),$(this).parent().toggleClass("active"),!1});$("#unit-dropdown .unit-link").click(function(){const n=$(this).attr("data-id");return g(n),!1})},tt=function(n){n==="free workplaces"&&$("#free-workplaces").parent().addClass("active")},b=function(){e=i;$("input[type=search]").val(e);r&&(o=r.split(s),k());u&&(c=u.split(s),c.indexOf("free workplaces")>-1&&tt("free workplaces"));f&&(h=f.split(s),d());nt()};return b(),{init:b,search:a,filter:p,filterWorkplaces:w}},siteData=function(){var t="rgb(91, 164, 255)",n=null;$(".map").on("click","path",function(i){const r=i.target,u=r.getAttribute("data-id"),f=u.substring(u.indexOf("_")+1);n&&(n.style.fill="");r.style.fill=t;n=r;$(".details-sidebar .details-main").html("");$(".details-sidebar .details-options").html("");detailsObj.setId(f);detailsObj.show()});$(".collapse-btn").click(function(){$(".details-sidebar").slideUp(100)})};